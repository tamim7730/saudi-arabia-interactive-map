# قائمة مراجعة النشر

## قبل النشر

### 1. فحص الملفات الأساسية
- [ ] التأكد من وجود `package.json` مع الإصدار الصحيح
- [ ] التأكد من وجود `server.js` وعمله بشكل صحيح
- [ ] التأكد من وجود `render.yaml` مع الإعدادات الصحيحة
- [ ] التأكد من وجود `.env.example` مع جميع المتغيرات المطلوبة
- [ ] التأكد من وجود `.gitignore` لحماية الملفات الحساسة

### 2. فحص التبعيات
- [ ] تشغيل `npm install` للتأكد من تثبيت جميع التبعيات
- [ ] فحص `package.json` للتأكد من وجود جميع التبعيات المطلوبة
- [ ] التأكد من عدم وجود تبعيات غير مستخدمة

### 3. اختبار التطبيق محلياً
- [ ] تشغيل `npm start` والتأكد من عمل الخادم
- [ ] اختبار الصفحة الرئيسية `/`
- [ ] اختبار لوحة التحكم `/diseases_dashboard.html`
- [ ] اختبار نقطة الفحص الصحي `/health`
- [ ] اختبار النوافذ المنبثقة عند النقر على المناطق
- [ ] اختبار التذييل والروابط

### 4. فحص الأمان
- [ ] التأكد من عدم وجود مفاتيح API مكشوفة في الكود
- [ ] فحص إعدادات CORS
- [ ] التأكد من تفعيل Helmet للأمان
- [ ] فحص إعدادات Content Security Policy

### 5. فحص الأداء
- [ ] التأكد من تفعيل ضغط الاستجابات
- [ ] فحص أحجام الملفات
- [ ] اختبار سرعة تحميل الصفحات
- [ ] فحص استهلاك الذاكرة

## أثناء النشر

### 1. إعداد Render
- [ ] إنشاء حساب على [Render.com](https://render.com)
- [ ] ربط المستودع مع Render
- [ ] تكوين متغيرات البيئة:
  - [ ] `NODE_ENV=production`
  - [ ] `PORT=10000`
  - [ ] `ENABLE_COMPRESSION=true`
  - [ ] `ENABLE_HELMET=true`
  - [ ] `RATE_LIMIT_MAX=200`
  - [ ] `RATE_LIMIT_WINDOW_MS=900000`

### 2. إعداد قاعدة البيانات (إذا لزم الأمر)
- [ ] إنشاء قاعدة بيانات PostgreSQL
- [ ] تكوين `DATABASE_URL`
- [ ] اختبار الاتصال بقاعدة البيانات

### 3. إعداد التخزين
- [ ] إنشاء Persistent Disk للملفات
- [ ] تكوين مسار التخزين `/opt/render/project/src/json`
- [ ] التأكد من حجم التخزين المناسب (1GB)

## بعد النشر

### 1. اختبار التطبيق المنشور
- [ ] اختبار الصفحة الرئيسية
- [ ] اختبار جميع APIs
- [ ] اختبار رفع الملفات
- [ ] اختبار النوافذ المنبثقة
- [ ] اختبار التذييل والروابط

### 2. فحص الأداء
- [ ] فحص سرعة الاستجابة
- [ ] فحص استهلاك الموارد
- [ ] مراقبة السجلات للأخطاء

### 3. فحص الأمان
- [ ] اختبار رؤوس الأمان
- [ ] فحص شهادة SSL
- [ ] اختبار حماية CSRF

### 4. المراقبة
- [ ] إعداد مراقبة الخادم
- [ ] إعداد تنبيهات للأخطاء
- [ ] مراقبة استهلاك الموارد

## استكشاف الأخطاء

### مشاكل شائعة وحلولها

#### خطأ في البناء
- فحص `package.json` للتبعيات المفقودة
- التأكد من إصدار Node.js المطلوب
- فحص سجلات البناء في Render

#### خطأ في البدء
- فحص متغير `PORT` في البيئة
- التأكد من وجود `server.js`
- فحص سجلات الخادم

#### مشاكل في الملفات
- التأكد من وجود مجلد `json`
- فحص أذونات الملفات
- التأكد من مسارات الملفات الصحيحة

#### مشاكل في قاعدة البيانات
- فحص `DATABASE_URL`
- اختبار الاتصال بقاعدة البيانات
- فحص أذونات المستخدم

## قائمة مراجعة سريعة

```bash
# فحص سريع قبل النشر
npm install
npm start
curl http://localhost:3000/health

# فحص الملفات الأساسية
ls -la package.json server.js render.yaml .env.example .gitignore

# فحص التبعيات
npm audit
npm outdated
```

## معلومات الاتصال

- **Render Dashboard**: https://dashboard.render.com
- **وثائق Render**: https://render.com/docs
- **دعم Render**: https://render.com/support

---

**ملاحظة**: تأكد من مراجعة جميع النقاط في هذه القائمة قبل النشر لضمان نجاح العملية.